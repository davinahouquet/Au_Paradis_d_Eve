{% extends 'base.html.twig' %}
{% block meta_description %} Nouvelle réservation - formulaire de réservation {% endblock %}
{% block css %}
<link rel="stylesheet" href="{{ asset('css/formulaireReservation.css') }}">
    {# <link rel="stylesheet" href="{{ asset('css/reservation.css') }}"> #}
    <link rel="stylesheet" href="{{ asset('css/base.css') }}">
{% endblock %}

{% block title %}Formulaire de réservation{% endblock %}

{% block body %}

<section class="section-reservation">
    <h1>Réservation de {{ chambre }}</h1>

    <div class="reservation-form">
        {{ form_start(form) }}
        <div class="name-group">
            <div class="form-group">
                {{ form_label(form.prenom) }}
                {{ form_widget(form.prenom, {'attr': {'class': 'form-control'}}) }}
            </div>

            <div class="form-group">
                {{ form_label(form.nom) }}
                {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>

        
        <div class="form-group">
            {{ form_label(form.telephone) }}
            {{ form_widget(form.telephone, {'attr': {'class': 'form-control'}}) }}
        </div>
        
        <div class="form-group">
            {{ form_label(form.nb_personnes) }}
            {{ form_widget(form.nb_personnes, {'attr': {'class': 'form-control'}}) }}
        </div>
        <div class="date-group">
            {# <div class="form-group">
                {{ form_label(form.date_debut) }}
                {{ form_widget(form.date_debut, {'attr': {'class': 'form-control'}}) }}
                <p>Demain minimum*</p>
            </div>

            <div class="form-group">
                {{ form_label(form.date_fin) }}
                {{ form_widget(form.date_fin, {'attr': {'class': 'form-control'}}) }}
                <p>2 jours minimum*</p>
            </div> #}
             <div class="form-group">
                {{ form_label(form.date_debut) }}
                {{ form_widget(form.date_debut, {'attr': {'class': 'form-control datepicker'}}) }}
                <p>Demain minimum*</p>
            </div>

            <div class="form-group">
                {{ form_label(form.date_fin) }}
                {{ form_widget(form.date_fin, {'attr': {'class': 'form-control datepicker'}}) }}
                <p>2 jours minimum*</p>
            </div>
        </div>
        
        <div class="form-group">
            {{ form_label(form.options) }}
            {{ form_widget(form.options) }}
        </div>

        <button type="submit" class="btn btn-success">Poursuivre</button>
        {{ form_end(form) }}
        <p>Les champs marqués d'un * sont obligatoires</p>
    </div>
</section>

{% block javascript %}
<script>
    $(document).ready(function(){
        var indisponibles = {{ indisponibilites|json_encode|raw }};

        $('.datepicker').datepicker({
            beforeShowDay: function(date){
                var dateString = $.datepicker.formatDate('yy-mm-dd', date);
                return [indisponibles.indexOf(dateString) == -1];
            }
        });
    });
</script>
{% endblock javascript %}
{% endblock %}
